<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/0.3.0/aframe.js"></script>
    <script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/master/dist/aframe-altspace-component.js"></script>
    <script src="https://sdk.altvr.com/libs/altspace.js/0.24.4/altspace.js"></script>
    <script src="lib/AudioSampleLoader.js"></script>
    <title>BeatLab!</title>
</head>
<body>

<script src="script/scheduler.js"></script>
<script src="script/sound.js"></script>
<script src="script/score.js"></script>
<script src="script/markers.js"></script>
<script src="script/main.js"></script>

<a-scene altspace='vertical-align: bottom;' keyboard-shortcuts>
    <a-entity position="0 0 1.5" camera="userHeight: 1.6" look-controls wasd-controls>
        <a-cursor color="#2E3A87"></a-cursor>
    </a-entity>

    <a-assets>
        <img id="studded-texture" src="img/studded.jpg">
        <img id="noise-texture" src="img/noise.png">
        <img id="copper-texture" src="img/copper.jpg">
        <img id="galv-texture" src="img/galvanised.jpg">
        <img id="green-texture" src="img/green.jpg">
        <img id="tongue-texture" src="img/tongue.jpg">
        <img id="stain-texture" src="img/stain.jpg">
        <img id="rock-texture" src="img/rock.jpg">
        <img id="cloud-texture" src="img/cloud.jpg">
        <img id="play-texture" src="img/play.png">
        <img id="cable-texture" src="img/cable_stripe.png">
    </a-assets>

    <a-cylinder material="src:#galv-texture;" height="0.9" position="0 0.5 0" color="#9999ff" radius="0.3">
        <a-sphere id="beater" playable position="0 0.3 0.3" radius="0.1" material="src:#play-texture" rotation="0 -90 30" color="#ddd"></a-sphere>
    </a-cylinder>

    <a-cylinder timer altspace-cursor-collider id="clock-face" material="src:#studded-texture;repeat: 10 1" segments-radial="16" height="0.05" rotation="0 90 40" position="0 1.3 0" radius="0.42" n-mesh-collider="convex: false">
        <a-circle material="src:#noise-texture; repeat:5 5" rotation="90 0 0" position="0 0.028 0.005" geometry="radius: 0.42" side="double" theta-length="4" color="#f0eae0" animate-theta></a-circle>

        <a-circle radius="0.3" scale="0.5 0.5 0.5" material="src:#noise-texture; repeat:5 5" color="#181818" position="0 0.03 0" rotation="-90 0 0">
            <a-entity bpm-label position="0 0 0.05" rotation="0 0 -90" n-text="fontSize:1pt;width:0.5;height:0.1"></a-entity>
        </a-circle>
    </a-cylinder>

    <a-sphere instrument="kick" material="src:#noise-texture; repeat:5 5" color="#6688ff" position="1 1 1.5" radius="0.3">
    </a-sphere>

    <a-box instrument="hat" depth="0.5" height="0.5" width="0.5"
           material="src:#copper-texture;color: #ff6688" position="-1 1 1.5">
    </a-box>

    <a-tetrahedron instrument="snare" rotation="215 45 45" radius="0.6"
                   material="src:#green-texture;color:#b0d8b0" position="-1.7 1 -0.8">
    </a-tetrahedron>

    <a-cylinder height="1" radius="0.08" position="0 1.2 -1.5" material="src:#stain-texture"></a-cylinder>
    <a-sphere instrument="bork" material="src:#tongue-texture;color:#aaf"
              position="0 1 -1.5" radius="0.15">
    </a-sphere>

    <a-cone instrument="beep" height="0.7" radius-top="0.2" radius-bottom="0.38" open-ended="true" color="#ffc34e"
            material="src:#rock-texture;side:double" position="1.7 1.1 -0.8">

        <a-torus radius="0.15" rotation="90 0 0" radius-tubular="0.029" position="0 0.2 0" material="src:#cloud-texture;color:#ffe8c0;">
            <a-animation attribute="position" from="0 0.2 0" to="0 2 0" begin="playtime" dur="500" fill="none" easing="linear"></a-animation>
        </a-torus>
    </a-cone>

</a-scene>

</body>
</html>